<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Guides - Laradock</title>
    <meta name="generator" content="Hugo 0.20.2" />

    
    <meta name="description" content="Full PHP development environment for Docker.">
    
    <link rel="canonical" href="http://laradock.io/guides/">
    
    <meta name="author" content="Mahmoud Zalt">
    

    <meta property="og:url" content="http://laradock.io/guides/">
    <meta property="og:title" content="Laradock">
    <meta property="og:image" content="http://laradock.io/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="Laradock">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="http://laradock.io/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="http://laradock.io/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('http://laradock.io/fonts/icon.eot');
        src: url('http://laradock.io/fonts/icon.eot')
               format('embedded-opentype'),
             url('http://laradock.io/fonts/icon.woff')
               format('woff'),
             url('http://laradock.io/fonts/icon.ttf')
               format('truetype'),
             url('http://laradock.io/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="http://laradock.io/stylesheets/application.css">
    <link rel="stylesheet" href="http://laradock.io/stylesheets/temporary.css">
    <link rel="stylesheet" href="http://laradock.io/stylesheets/palettes.css">
    <link rel="stylesheet" href="http://laradock.io/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Doctarine:400,700|Source&#43;Code&#43;Pro">
    <style>
      body, input {
        font-family: 'Doctarine', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Source Code Pro', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="http://laradock.io/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-deep-purple palette-accent-purple">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
          <b>Laradock</b> <span style="color: rgba(249, 245, 255, 0.63);"> / Guides</span>
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
        <a style="padding: 0px; font-size:40px" href="https://github.com/laradock/laradock" title="@laradock/laradock on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
      <p style="font-size: 18px; padding: 8px">Github</p>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>

</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="http://laradock.io/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="http://laradock.io/images/logo.png">
        </div>
      
      
        
        
      
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Introduction" href="http://laradock.io/introduction/">
	
	Introduction
</a>



  
</li>



<li>
  
    



<a  title="Getting Started" href="http://laradock.io/getting-started/">
	
	Getting Started
</a>



  
</li>



<li>
  
    



<a  title="Documentation" href="http://laradock.io/documentation/">
	
	Documentation
</a>



  
</li>



<li>
  
    



<a class="current" title="Guides" href="http://laradock.io/guides/">
	
	Guides
</a>


<ul id="scrollspy">
</ul>


  
</li>



<li>
  
    



<a  title="Help &amp; Questions" href="http://laradock.io/help/">
	
	Help &amp; Questions
</a>



  
</li>



<li>
  
    



<a  title="Related Projects" href="http://laradock.io/related-projects/">
	
	Related Projects
</a>



  
</li>



<li>
  
    



<a  title="Contributing" href="http://laradock.io/contributing/">
	
	Contributing
</a>



  
</li>



<li>
  
    



<a  title="License" href="http://laradock.io/license/">
	
	License
</a>



  
</li>


        </ul>
        

        
        
        
        
        <ul>
          

          
          
            
              
            
          
          

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Guides </h1>

			

<ul>
<li><a href="#Digital-Ocean">Production Setup on Digital Ocean</a></li>
<li><a href="#PHPStorm-Debugging">PHPStorm XDebug Setup</a></li>
</ul>

<p><a name="Digital-Ocean"></a></p>

<h1 id="production-setup-on-digital-ocean">Production Setup on Digital Ocean</h1>

<h2 id="install-docker">Install Docker</h2>

<ul>
<li>Visit <a href="https://cloud.digitalocean.com/login">DigitalOcean</a> and login.</li>
<li>Click the <code>Create Droplet</code> button.</li>
<li>Open the <code>One-click apps</code> tab.</li>
<li>Select Docker with your preferred version.</li>
<li>Continue creating the droplet as you normally would.</li>
<li>If needed, check your e-mail for the droplet root password.</li>
</ul>

<h2 id="ssh-to-your-server">SSH to your Server</h2>

<p>Find the IP address of the droplet in the DigitalOcean interface. Use it to connect to the server.</p>

<pre><code>ssh root@ipaddress
</code></pre>

<p>You may be prompted for a password. Type the one you found within your e-mailbox. It&rsquo;ll then ask you to change the password.</p>

<p>You can now check if Docker is available:</p>

<pre><code>$root@server:~# docker
</code></pre>

<h2 id="set-up-your-laravel-project">Set Up Your Laravel Project</h2>

<pre><code>$root@server:~# apt-get install git
$root@server:~# git clone https://github.com/laravel/laravel
$root@server:~# cd laravel
$root@server:~/laravel/ git submodule add https://github.com/LaraDock/laradock.git
$root@server:~/laravel/ cd laradock
</code></pre>

<h2 id="install-docker-compose-command">Install docker-compose command</h2>

<pre><code>$root@server:~/laravel/laradock# curl -L https://github.com/docker/compose/releases/download/1.8.0/run.sh &gt; /usr/local/bin/docker-compose
$root@server:~/chmod +x /usr/local/bin/docker-compose
</code></pre>

<h2 id="create-your-laradock-containers">Create Your LaraDock Containers</h2>

<pre><code>$root@server:~/laravel/laradock# docker-compose up -d nginx mysql
</code></pre>

<p>Note that more containers are available, find them in the <a href="http://laradock.io/introduction/#supported-software-containers">docs</a> or the <code>docker-compose.yml</code> file.</p>

<h2 id="go-to-your-workspace">Go to Your Workspace</h2>

<pre><code>docker-compose exec workspace bash
</code></pre>

<h2 id="install-and-configure-laravel">Install and configure Laravel</h2>

<p>Let&rsquo;s install Laravel&rsquo;s dependencies, add the <code>.env</code> file, generate the key and give proper permissions to the cache folder.</p>

<pre><code>$ root@workspace:/var/www# composer install
$ root@workspace:/var/www# cp .env.example .env
$ root@workspace:/var/www# php artisan key:generate
$ root@workspace:/var/www# exit
$root@server:~/laravel/laradock# cd ..
$root@server:~/laravel# sudo chmod -R 777 storage bootstrap/cache
</code></pre>

<p>You can then view your Laravel site by visiting the IP address of your server in your browser. For example:</p>

<pre><code>http://192.168.1.1
</code></pre>

<p>It should show you the Laravel default welcome page.</p>

<p>However, we want it to show up using your custom domain name, as well.</p>

<h2 id="using-your-own-domain-name">Using Your Own Domain Name</h2>

<p>Login to your DNS provider, such as Godaddy, Namecheap.</p>

<p>Point the Custom Domain Name Server to:</p>

<pre><code>ns1.digitalocean.com
ns2.digitalocean.com
ns3.digitalocean.com
</code></pre>

<p>Within DigitalOcean, you&rsquo;ll need to change some settings, too.</p>

<p>Visit: <a href="https://cloud.digitalocean.com/networking/domains">https://cloud.digitalocean.com/networking/domains</a></p>

<p>Add your domain name and choose the server IP you&rsquo;d provision earlier.</p>

<h2 id="serving-site-with-nginx-http-only">Serving Site With NGINX (HTTP ONLY)</h2>

<p>Go back to command line.</p>

<pre><code>$root@server:~/laravel/laradock# cd nginx
$root@server:~/laravel/laradock/nginx# vim laravel.conf
</code></pre>

<p>Remove <code>default_server</code></p>

<pre><code>    listen 80 default_server;
    listen [::]:80 default_server ipv6only=on;
</code></pre>

<p>And add <code>server_name</code> (your custom domain)</p>

<pre><code>    listen 80;
    listen [::]:80 ipv6only=on;
    server_name yourdomain.com;
</code></pre>

<h2 id="rebuild-your-nginx">Rebuild Your Nginx</h2>

<pre><code>$root@server:~/laravel/laradock/nginx# docker-compose down
$root@server:~/laravel/laradock/nginx# docker-compose build nginx
</code></pre>

<h2 id="re-run-your-containers-mysql-and-nginx">Re Run Your Containers MYSQL and NGINX</h2>

<pre><code>$root@server:~/laravel/laradock/nginx# docker-compose up -d nginx mysql
</code></pre>

<p><strong>View Your Site with HTTP ONLY (<a href="http://yourdomain.com">http://yourdomain.com</a>)</strong></p>

<h2 id="run-site-on-ssl-with-let-s-encrypt-certificate">Run Site on SSL with Let&rsquo;s Encrypt Certificate</h2>

<p><strong>Note: You need to Use Caddy here Instead of Nginx</strong></p>

<p>To go Caddy Folders and Edit CaddyFile</p>

<pre><code>$root@server:~/laravel/laradock# cd caddy
$root@server:~/laravel/laradock/caddy# vim Caddyfile
</code></pre>

<p>Remove 0.0.0.0:80</p>

<pre><code>0.0.0.0:80
root /var/www/public
</code></pre>

<p>and replace with your <a href="https://yourdomain.com">https://yourdomain.com</a></p>

<pre><code>https://yourdomain.com
root /var/www/public
</code></pre>

<p>uncomment tls</p>

<pre><code>#tls self-signed
</code></pre>

<p>and replace self-signed with your email address</p>

<pre><code>tls serverbreaker@gmai.com
</code></pre>

<p>This is needed Prior to Creating Let&rsquo;s Encypt</p>

<h2 id="run-your-caddy-container-without-the-d-flag-and-generate-ssl-with-let-s-encrypt">Run Your Caddy Container without the -d flag and Generate SSL with Let&rsquo;s Encrypt</h2>

<pre><code>$root@server:~/laravel/laradock/caddy# docker-compose up  caddy
</code></pre>

<p>You&rsquo;ll be prompt here to enter your email&hellip; you may enter it or not</p>

<pre><code>Attaching to laradock_mysql_1, laradock_caddy_1
caddy_1               | Activating privacy features...
caddy_1               | Your sites will be served over HTTPS automatically using Let's Encrypt.
caddy_1               | By continuing, you agree to the Let's Encrypt Subscriber Agreement at:
caddy_1               |   https://letsencrypt.org/documents/LE-SA-v1.0.1-July-27-2015.pdf
caddy_1               | Activating privacy features... done.
caddy_1               | https://yourdomain.com
caddy_1               | http://yourdomain.com
</code></pre>

<p>After it finishes, press <code>Ctrl</code> + <code>C</code> to exit.</p>

<h2 id="stop-all-containers-and-rerun-caddy-and-other-containers-on-background">Stop All Containers and ReRun Caddy and Other Containers on Background</h2>

<pre><code>$root@server:~/laravel/laradock/caddy# docker-compose down
$root@server:~/laravel/laradock/caddy# docker-compose up -d mysql caddy
</code></pre>

<p>View your Site in the Browser Securely Using HTTPS (<a href="https://yourdomain.com">https://yourdomain.com</a>)</p>

<p><strong>Note that Certificate will be Automatically Renew By Caddy</strong></p>

<blockquote>
<p>References:</p>

<ul>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-16-04">https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-16-04</a></li>
<li><a href="https://www.digitalocean.com/products/one-click-apps/docker/">https://www.digitalocean.com/products/one-click-apps/docker/</a></li>
<li><a href="https://docs.docker.com/engine/installation/linux/ubuntulinux/">https://docs.docker.com/engine/installation/linux/ubuntulinux/</a></li>
<li><a href="https://docs.docker.com/compose/install/">https://docs.docker.com/compose/install/</a></li>
<li><a href="https://caddyserver.com/docs/automatic-https">https://caddyserver.com/docs/automatic-https</a></li>
<li><a href="https://caddyserver.com/docs/tls">https://caddyserver.com/docs/tls</a></li>
<li><a href="https://caddyserver.com/docs/caddyfile">https://caddyserver.com/docs/caddyfile</a></li>
</ul>
</blockquote>

<p><br>
<br>
<br>
<br>
<br></p>

<p><a name="PHPStorm-Debugging"></a></p>

<h1 id="phpstorm-xdebug-setup">PHPStorm XDebug Setup</h1>

<ul>
<li><a href="#Intro">Intro</a></li>
<li><a href="#Installation">Installation</a>

<ul>
<li><a href="#CustomizeDockerCompose">Customize laradock/docker-compose.yml</a>

<ul>
<li><a href="#InstallCleanHouse">Clean House</a></li>
<li><a href="#InstallLaraDockDialTone">LaraDock Dial Tone</a></li>
<li><a href="#AddToHosts">hosts</a></li>
<li><a href="#FireWall">Firewall</a></li>
<li><a href="#enablePhpXdebug">Enable xDebug on php-fpm</a></li>
</ul></li>
<li><a href="#InstallPHPStorm">PHPStorm Settings</a>

<ul>
<li><a href="#InstallPHPStormConfigs">Configs</a></li>
</ul></li>
</ul></li>
<li><a href="#Usage">Usage</a>

<ul>
<li><a href="#UsageLaravel">Laravel</a>

<ul>
<li><a href="#UsagePHPStormRunExampleTest">Run ExampleTest</a></li>
<li><a href="#UsagePHPStormDebugExampleTest">Debug ExampleTest</a></li>
<li><a href="#UsagePHPStormDebugSite">Debug Web Site</a></li>
</ul></li>
</ul></li>
<li><a href="#SSHintoWorkspace">SSH into workspace</a>

<ul>
<li><a href="#InstallKiTTY">KiTTY</a></li>
</ul></li>
</ul>

<p><a name="Intro"></a></p>

<h2 id="intro">Intro</h2>

<p>Wiring up <a href="https://laravel.com/">Laravel</a>, <a href="https://github.com/LaraDock/laradock">LaraDock</a> [Laravel+Docker] and <a href="https://www.jetbrains.com/phpstorm/">PHPStorm</a> to play nice together complete with remote xdebug&rsquo;ing as icing on top! Although this guide is based on <code>PHPStorm Windows</code>,
you should be able to adjust accordingly. This guide was written based on Docker for Windows Native.</p>

<p><a name="Installation"></a></p>

<h2 id="installation">Installation</h2>

<ul>
<li>This guide assumes the following:

<ul>
<li>you have already installed and are familiar with Laravel, LaraDock and PHPStorm.</li>
<li>you have installed Laravel as a parent of <code>laradock</code>. This guide assumes <code>/c/_dk/laravel</code>.</li>
</ul></li>
</ul>

<p><a name="AddToHosts"></a></p>

<h2 id="hosts">hosts</h2>

<ul>
<li><p>Add <code>laravel</code> to your hosts file located on Windows 10 at <code>C:\Windows\System32\drivers\etc\hosts</code>. It should be set to the IP of your running container. Mine is: <code>10.0.75.2</code>
On Windows you can find it by opening Windows <code>Hyper-V Manager</code>.</p>

<ul>
<li><img src="photos/PHPStorm/Settings/WindowsHyperVManager.png" alt="Windows Hyper-V Manager" /></li>
</ul></li>

<li><p><a href="https://github.com/scottlerch/HostsFileEditor">Hosts File Editor</a> makes it easy to change your hosts file.</p>

<ul>
<li>Set <code>laravel</code> to your docker host IP. See <a href="photos/SimpleHostsEditor/AddHost_laravel.png">Example</a>.</li>
</ul></li>
</ul>

<p><a name="FireWall"></a></p>

<h2 id="firewall">Firewall</h2>

<p>Your PHPStorm will need to be able to receive a connection from PHP xdebug either your running workspace or php-fpm containers on port 9000. This means that your Windows Firewall should either enable connections from the Application PHPStorm OR the port.</p>

<ul>
<li>It is important to note that if the Application PHPStorm is NOT enabled in the firewall, you will not be able to recreate a rule to override that.</li>
<li>Also be aware that if you are installing/upgrade different versions of PHPStorm, you MAY have orphaned references to PHPStorm in your Firewall! You may decide to remove orphaned references however in either case, make sure that they are set to receive public TCP traffic.</li>
</ul>

<h3 id="edit-laradock-docker-compose-yml">Edit laradock/docker-compose.yml</h3>

<p>Set the following variables:</p>

<pre><code>### Workspace Utilities Container ###############

    workspace:
        build:
            context: ./workspace
            args:
                - INSTALL_XDEBUG=true
                - INSTALL_WORKSPACE_SSH=true
                ...


### PHP-FPM Container #####################

    php-fpm:
        build:
            context: ./php-fpm
            args:
                - INSTALL_XDEBUG=true
                ...

</code></pre>

<h3 id="edit-xdebug-ini-files">Edit xdebug.ini files</h3>

<ul>
<li><code>laradock/workspace/xdebug.ini</code></li>
<li><code>laradock/php-fpm/xdebug.ini</code></li>
</ul>

<p>Set the following variables:</p>

<pre><code>xdebug.remote_autostart=1
xdebug.remote_enable=1
xdebug.remote_connect_back=1
xdebug.cli_color=1
</code></pre>

<p><a name="InstallCleanHouse"></a></p>

<h3 id="need-to-clean-house-first">Need to clean house first?</h3>

<p>Make sure you are starting with a clean state. For example, do you have other LaraDock containers and images?
Here are a few things I use to clean things up.</p>

<ul>
<li><p>Delete all containers using <code>grep laradock_</code> on the names, see: <a href="https://linuxconfig.org/remove-all-containners-based-on-docker-image-name">Remove all containers based on docker image name</a>.
<code>docker ps -a | awk '{ print $1,$2 }' | grep laradock_ | awk '{print $1}' | xargs -I {} docker rm {}</code></p></li>

<li><p>Delete all images containing <code>laradock</code>.
<code>docker images | awk '{print $1,$2,$3}' | grep laradock_ | awk '{print $3}' | xargs -I {} docker rmi {}</code>
<strong>Note:</strong> This will only delete images that were built with <code>LaraDock</code>, <strong>NOT</strong> <code>laradock/*</code> which are pulled down by <code>LaraDock</code> such as <code>laradock/workspace</code>, etc.
<strong>Note:</strong> Some may fail with:
<code>Error response from daemon: conflict: unable to delete 3f38eaed93df (cannot be forced) - image has dependent child images</code></p></li>

<li><p>I added this to my <code>.bashrc</code> to remove orphaned images.</p>

<pre><code>dclean() {
    processes=`docker ps -q -f status=exited`
    if [ -n &quot;$processes&quot; ]; thend
      docker rm $processes
    fi

    images=`docker images -q -f dangling=true`
    if [ -n &quot;$images&quot; ]; then
      docker rmi $images
    fi
}
</code></pre></li>

<li><p>If you frequently switch configurations for LaraDock, you may find that adding the following and added to your <code>.bashrc</code> or equivalent useful:
```</p>

<h1 id="remove-laravel-containers">remove laravel* containers</h1>

<h1 id="remove-laravel-images">remove laravel_* images</h1>

<p>dcleanlaradockfunction()
{
	echo &lsquo;Removing ALL containers associated with laradock&rsquo;
	docker ps -a | awk &lsquo;{ print $1,$2 }&rsquo; | grep laradock | awk &lsquo;{print $1}&rsquo; | xargs -I {} docker rm {}</p></li>
</ul>

<p>	# remove ALL images associated with laradock_
	# does NOT delete laradock/* which are hub images
	echo &lsquo;Removing ALL images associated with laradock<em>&lsquo;
	docker images | awk &lsquo;{print $1,$2,$3}&rsquo; | grep laradock</em> | awk &lsquo;{print $3}&rsquo; | xargs -I {} docker rmi {}</p>

<p>	echo &lsquo;Listing all laradock docker hub images&hellip;&rsquo;
	docker images | grep laradock</p>

<p>	echo &lsquo;dcleanlaradock completed&rsquo;
}</p>

<h1 id="associate-the-above-function-with-an-alias">associate the above function with an alias</h1>

<h1 id="so-can-recall-lookup-by-typing-alias">so can recall/lookup by typing &lsquo;alias&rsquo;</h1>

<p>alias dcleanlaradock=dcleanlaradockfunction</p>

<pre><code>
&lt;a name=&quot;InstallLaraDockDialTone&quot;&gt;&lt;/a&gt;
## Let's get a dial-tone with Laravel

</code></pre>

<h1 id="barebones-at-this-point">barebones at this point</h1>

<p>docker-compose up -d nginx mysql</p>

<h1 id="run">run</h1>

<p>docker-compose ps</p>

<h1 id="should-see">Should see:</h1>

<pre><code>      Name                        Command             State                     Ports
</code></pre>

<hr />

<p>laradock_mysql_1            docker-entrypoint.sh mysqld   Up       0.0.0.0:3306-&gt;3306/tcp
laradock_nginx_1            nginx                         Up       0.0.0.0:443-&gt;443/tcp, 0.0.0.0:80-&gt;80/tcp
laradock_php-fpm_1          php-fpm                       Up       9000/tcp
laradock_volumes_data_1     true                          Exit 0
laradock_volumes_source_1   true                          Exit 0
laradock_workspace_1        /sbin/my_init                 Up       0.0.0.0:2222-&gt;22/tcp</p>

<pre><code>
&lt;a name=&quot;enablePhpXdebug&quot;&gt;&lt;/a&gt;
## Enable xDebug on php-fpm
In a host terminal sitting in the laradock folder, run: `./xdebugPhpFpm status`
You should see something like the following:
</code></pre>

<p>xDebug status
laradock_php-fpm_1
PHP 7.0.9 (cli) (built: Aug 10 2016 19:45:48) ( NTS )
Copyright &copy; 1997-2016 The PHP Group
Zend Engine v3.0.0, Copyright &copy; 1998-2016 Zend Technologies
    with Xdebug v2.4.1, Copyright &copy; 2002-2016, by Derick Rethans
``<code>
Other commands include</code>./xdebugPhpFpm start | stop`.</p>

<p>If you have enabled <code>xdebug=true</code> in <code>docker-compose.yml/php-fpm</code>, <code>xdebug</code> will already be running when
<code>php-fpm</code> is started and listening for debug info on port 9000.</p>

<p><a name="InstallPHPStormConfigs"></a></p>

<h2 id="phpstorm-settings">PHPStorm Settings</h2>

<ul>
<li><p>Here are some settings that are known to work:</p>

<ul>
<li><p><code>Settings/BuildDeploymentConnection</code></p>

<ul>
<li><img src="photos/PHPStorm/Settings/BuildDeploymentConnection.png" alt="Settings/BuildDeploymentConnection" /></li>
</ul></li>

<li><p><code>Settings/BuildDeploymentConnectionMappings</code></p>

<ul>
<li><img src="photos/PHPStorm/Settings/BuildDeploymentConnectionMappings.png" alt="Settings/BuildDeploymentConnectionMappings" /></li>
</ul></li>

<li><p><code>Settings/BuildDeploymentDebugger</code></p>

<ul>
<li><img src="photos/PHPStorm/Settings/BuildDeploymentDebugger.png" alt="Settings/BuildDeploymentDebugger" /></li>
</ul></li>

<li><p><code>Settings/EditRunConfigurationRemoteWebDebug</code></p>

<ul>
<li><img src="photos/PHPStorm/Settings/EditRunConfigurationRemoteWebDebug.png" alt="Settings/EditRunConfigurationRemoteWebDebug" /></li>
</ul></li>

<li><p><code>Settings/EditRunConfigurationRemoteExampleTestDebug</code></p>

<ul>
<li><img src="photos/PHPStorm/Settings/EditRunConfigurationRemoteExampleTestDebug.png" alt="Settings/EditRunConfigurationRemoteExampleTestDebug" /></li>
</ul></li>

<li><p><code>Settings/LangsPHPDebug</code></p>

<ul>
<li><img src="photos/PHPStorm/Settings/LangsPHPDebug.png" alt="Settings/LangsPHPDebug" /></li>
</ul></li>

<li><p><code>Settings/LangsPHPInterpreters</code></p>

<ul>
<li><img src="photos/PHPStorm/Settings/LangsPHPInterpreters.png" alt="Settings/LangsPHPInterpreters" /></li>
</ul></li>

<li><p><code>Settings/LangsPHPPHPUnit</code></p>

<ul>
<li><img src="photos/PHPStorm/Settings/LangsPHPPHPUnit.png" alt="Settings/LangsPHPPHPUnit" /></li>
</ul></li>

<li><p><code>Settings/LangsPHPServers</code></p>

<ul>
<li><img src="photos/PHPStorm/Settings/LangsPHPServers.png" alt="Settings/LangsPHPServers" /></li>
</ul></li>

<li><p><code>RemoteHost</code>
To switch on this view, go to: <code>Menu/Tools/Deployment/Browse Remote Host</code>.</p>

<ul>
<li><img src="photos/PHPStorm/RemoteHost.png" alt="RemoteHost" /></li>
</ul></li>

<li><p><code>RemoteWebDebug</code></p>

<ul>
<li><img src="photos/PHPStorm/DebugRemoteOn.png" alt="DebugRemoteOn" /></li>
</ul></li>

<li><p><code>EditRunConfigurationRemoteWebDebug</code>
Go to: <code>Menu/Run/Edit Configurations</code>.</p>

<ul>
<li><img src="photos/PHPStorm/Settings/EditRunConfigurationRemoteWebDebug.png" alt="EditRunConfigurationRemoteWebDebug" /></li>
</ul></li>

<li><p><code>EditRunConfigurationRemoteExampleTestDebug</code>
Go to: <code>Menu/Run/Edit Configurations</code>.</p>

<ul>
<li><img src="photos/PHPStorm/Settings/EditRunConfigurationRemoteExampleTestDebug.png" alt="EditRunConfigurationRemoteExampleTestDebug" /></li>
</ul></li>

<li><p><code>WindowsFirewallAllowedApps</code>
Go to: <code>Control Panel\All Control Panel Items\Windows Firewall\Allowed apps</code>.</p>

<ul>
<li><img src="photos/PHPStorm/Settings/WindowsFirewallAllowedApps.png" alt="WindowsFirewallAllowedApps.png" /></li>
</ul></li>

<li><p><code>hosts</code>
Edit: <code>C:\Windows\System32\drivers\etc\hosts</code>.</p>

<ul>
<li><p><img src="photos/PHPStorm/Settings/hosts.png" alt="WindowsFirewallAllowedApps.png" /></p></li>

<li><p><a href="#enablePhpXdebug">Enable xDebug on php-fpm</a></p></li>
</ul></li>
</ul></li>
</ul>

<p><a name="Usage"></a></p>

<h2 id="usage">Usage</h2>

<p><a name="UsagePHPStormRunExampleTest"></a></p>

<h3 id="run-exampletest">Run ExampleTest</h3>

<ul>
<li>right-click on <code>tests/ExampleTest.php</code>

<ul>
<li>Select: <code>Run 'ExampleTest.php'</code> or <code>Ctrl+Shift+F10</code>.</li>
<li>Should pass!! You just ran a remote test via SSH!</li>
</ul></li>
</ul>

<p><a name="UsagePHPStormDebugExampleTest"></a></p>

<h3 id="debug-exampletest">Debug ExampleTest</h3>

<ul>
<li>Open to edit: <code>tests/ExampleTest.php</code></li>
<li>Add a BreakPoint on line 16: <code>$this-&gt;visit('/')</code></li>
<li>right-click on <code>tests/ExampleTest.php</code>

<ul>
<li>Select: <code>Debug 'ExampleTest.php'</code>.</li>
<li>Should have stopped at the BreakPoint!! You are now debugging locally against a remote Laravel project via SSH!</li>
<li><img src="photos/PHPStorm/RemoteTestDebuggingSuccess.png" alt="Remote Test Debugging Success" /></li>
</ul></li>
</ul>

<p><a name="UsagePHPStormDebugSite"></a></p>

<h3 id="debug-website">Debug WebSite</h3>

<ul>
<li><p>In case xDebug is disabled, from the <code>laradock</code> folder run:
<code>./xdebugPhpFpm start</code>.</p>

<ul>
<li>To switch xdebug off, run:
<code>./xdebugPhpFpm stop</code></li>
</ul></li>

<li><p>Start Remote Debugging</p>

<ul>
<li><img src="photos/PHPStorm/DebugRemoteOn.png" alt="DebugRemoteOn" /></li>
</ul></li>

<li><p>Open to edit: <code>bootstrap/app.php</code></p></li>

<li><p>Add a BreakPoint on line 14: <code>$app = new Illuminate\Foundation\Application(</code></p></li>

<li><p>Reload <a href="http://laravel/">Laravel Site</a></p>

<ul>
<li>Should have stopped at the BreakPoint!! You are now debugging locally against a remote Laravel project via SSH!</li>
<li><img src="photos/PHPStorm/RemoteDebuggingSuccess.png" alt="Remote Debugging Success" /></li>
</ul></li>
</ul>

<p><a name="SSHintoWorkspace"></a></p>

<h2 id="let-s-shell-into-workspace">Let&rsquo;s shell into workspace</h2>

<p>Assuming that you are in laradock folder, type:
<code>ssh -i workspace/insecure_id_rsa -p2222 root@laravel</code>
<strong>Cha Ching!!!!</strong>
- <code>workspace/insecure_id_rsa.ppk</code> may become corrupted. In which case:
    - fire up <code>puttygen</code>
    - import <code>workspace/insecure_id_rsa</code>
    - save private key to <code>workspace/insecure_id_rsa.ppk</code></p>

<p><a name="InstallKiTTY"></a></p>

<h3 id="kitty">KiTTY</h3>

<p><a href="http://www.9bis.net/kitty/">Kitty</a> KiTTY is a fork from version 0.67 of PuTTY.</p>

<ul>
<li>Here are some settings that are working for me:

<ul>
<li><img src="photos/KiTTY/Session.png" alt="Session" /></li>
<li><img src="photos/KiTTY/Terminal.png" alt="Terminal" /></li>
<li><img src="photos/KiTTY/Window.png" alt="Window" /></li>
<li><img src="photos/KiTTY/WindowAppearance.png" alt="WindowAppearance" /></li>
<li><img src="photos/KiTTY/Connection.png" alt="Connection" /></li>
<li><img src="photos/KiTTY/ConnectionData.png" alt="ConnectionData" /></li>
<li><img src="photos/KiTTY/ConnectionSSH.png" alt="ConnectionSSH" /></li>
<li><img src="photos/KiTTY/ConnectionSSHAuth.png" alt="ConnectionSSHAuth" /></li>
<li><img src="photos/KiTTY/TerminalShell.png" alt="TerminalShell" /></li>
</ul></li>
</ul>


			<aside class="copyright" role="note">
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="http://laradock.io/documentation/" title="Documentation">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Documentation
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="http://laradock.io/help/" title="Help &amp; Questions">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Help &amp; Questions
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="http://laradock.io/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-37514928-9', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
         
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

